//colors
$color_alto_approx: #d9d9d9;
$color_celeste_approx: #ccc;
$color_nobel_approx: #b3b3b3;
$alabaster: #fafafa;
$color_black_squeeze_approx: #f2f9fc;
$color_storm_dust_approx: #666;
$color_desert_storm_approx: #f8f8f8;
$color_tropical_blue_approx: #c9e6f2;

// This will be the element that react will use to render the dropdown
.tether-element {
  z-index: 100;
}

.react-selectize {
	color: white;
  font-weight: 500;
  font-size: 12px;

  &.root-node {
		position: relative;

    &.disabled {
			pointer-events: none;
		}

    .react-selectize-control {
			cursor: pointer;
			display: box;
			display: flex;
			align-items: flex-start;
			position: relative;
			padding: 2px;

      .react-selectize-placeholder {
				display: block;
				line-height: 30px;
				overflow: hidden;
				text-overflow: ellipsis;
				vertical-align: middle;
				white-space: nowrap;
				position: absolute;
				max-width: calc(100% - 56px);
			}

      .react-selectize-search-field-and-selected-values {
				display: box;
				display: flex;
				min-height: 30px;
				box-flex: 1;
				flex-grow: 1;
				flex-wrap: wrap;

        .resizable-input {
					background: none;
					border: none;
					outline: none;
					font-size: 1em;
					margin: 2px;
					padding: 4px 0;
					vertical-align: middle;
					width: 0;
				}

        .value-wrapper {
					display: box;
					display: flex;
					align-items: center;
				}
			}

      .react-selectize-reset-button-container {
				box-flex: 0;
				flex-grow: 0;
				flex-shrink: 0;
				cursor: pointer;
				display: box;
				display: flex;
				align-items: center;
				justify-content: center;
				height: 30px;
				width: 16px;

        &:hover .react-selectize-reset-button path {
					stroke: $color-error;
				}
			}

      .react-selectize-toggle-button-container {
				box-flex: 0;
				flex-grow: 0;
				flex-shrink: 0;
				cursor: pointer;
				display: box;
				display: flex;
				align-items: center;
				justify-content: center;
				height: 30px;
				width: 32px;
			}

      .react-selectize-reset-button path {
				transition: stroke 0.5s 0s ease;
				stroke: white;
				stroke-linecap: square;
				stroke-linejoin: mitter;
			}

      .react-selectize-toggle-button path {
				fill: white;
			}
		}
	}


	&.dropdown-menu-wrapper {
		position: absolute;

    &.tethered {
			min-width: 300px;
		}

		&.default {
			overflow: hidden;

			.dropdown-menu {
				&.custom-enter-active {
					transition: transform 0.2s 0s ease;
				}

				&.custom-leave-active {
					transition: transform 0.2s 0s ease;
				}

				&.flipped {
					&.custom-enter {
						transform: translateY(100%);
					}
					&.custom-enter-active {
						transform: translateY(0%);
					}
					&.custom-leave {
						transform: translateY(0%);
					}
					&.custom-leave-active {
						transform: translateY(100%);
					}
				}

				&:not(.flipped) {
					&.custom-enter {
						transform: translateY(-100%);
					}
					&.custom-enter-active {
						transform: translateY(0%);
					}
					&.custom-leave {
						transform: translateY(0%);
					}
					&.custom-leave-active {
						transform: translateY(-100%);
					}
				}
			}
		}

		&:not(.tethered) {
			width: 100%;
		}
	}

  // DROPDOWN
	&.dropdown-menu {
		box-sizing: border-box;
		overflow: auto;
		position: absolute;
		max-height: 200px;
		z-index: 10;

		&.tethered {
			min-width: 300px;
		}

		.option-wrapper {
			cursor: pointer;
			outline: none;
		}

		&.default {
			background: white;
			border: 1px solid $color_celeste_approx;
			margin-top: -1px;

			&.flipped {
				border-top-left-radius: 4px;
				border-top-right-radius: 4px;
			}

			.no-results-found {
				color: white !important;
				font-style: oblique;
				padding: 8px 10px;
			}

			.simple-group-title {
				background-color: $alabaster;
				padding: 8px;
			}

			.option-wrapper {
				&.highlight {
					background: $color_black_squeeze_approx;
					color: $color-secondary;
				}

				.simple-option {
					color: $color-tertiary;
					cursor: pointer;
					padding: 8px 10px;

					&.not-selectable {
						background-color: $color_desert_storm_approx;
						color: white;
						cursor: default;
						font-style: oblique;
						text-shadow: 0 1px 0 white;
					}
				}
			}

			&:not(.flipped) {
				border-color: $color_nobel_approx $color_celeste_approx $color_alto_approx;
				border-bottom-left-radius: 4px;
				border-bottom-right-radius: 4px;
			}
		}

		&:not(.tethered) {
			width: 100%;
		}

		.groups.as-columns {
			display: box;
			display: flex;
			> div {
				box-flex: 1;
				flex: 1;
			}
		}
	}

  // DEFAULT THEME
	&.default {
		&.root-node {
			.react-selectize-control {
				background-color: transparent;
				border: none;
				border-radius: 0px;
				font-size: 1em;
        padding: 0;
        height: 50px;

				.react-selectize-placeholder {
					color: white;
					text-indent: 8px;
          line-height: 50px;
				}

				.react-selectize-search-field-and-selected-values {
					padding-left: 5px;
          min-height: 50px;
				}

        .react-selectize-toggle-button-container {
          height: 50px;
          width: auto;
        }

        .react-selectize-reset-button-container {
          height: 50px;
          width: auto;
        }
			}

			&.open {
				&.flipped .react-selectize-control {
				}
				&:not(.flipped) .react-selectize-control {
				}
			}
		}
	}
}

// SIMPLE SELECT
.simple-select.react-selectize {
	&.root-node .simple-value {
		span {
      display: block;
      line-height: 50px;
      white-space: nowrap;
      text-overflow: ellipsis;
		}
	}

	&.default.root-node {
		&.open .react-selectize-control {
			background-color: $color-primary;
		}

		&:not(.open) .react-selectize-control {
			background-color: transparent;
		}
	}

	&.material.root-node .simple-value {
		margin: 4px 3px 3px 2px;
	}
}

// MULTI-SELECT
.multi-select.react-selectize {
	&.root-node .simple-value {
		display: inline-block;
		margin: 2px;
		vertical-align: middle;
		span {
			display: inline-block;
			padding: 2px 5px 4px;
			vertical-align: center;
		}
	}

	&.default.root-node .simple-value {
		background: $color_black_squeeze_approx;
		border: 1px solid $color_tropical_blue_approx;
		border-radius: 2px;
		color: $color-primary;
	}
}
